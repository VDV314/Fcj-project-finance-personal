<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=https://vdv314.github.io/Fcj-project-finance-personal/images/favicon.png type=image/png><title>Blog 3 :: Internship Report</title>
<link href=https://vdv314.github.io/Fcj-project-finance-personal/css/nucleus.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/fontawesome-all.min.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/hybrid.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/featherlight.min.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/perfect-scrollbar.min.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/auto-complete.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/atom-one-dark-reasonable.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/theme.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/hugo-theme.css?1765299766 rel=stylesheet><link href=https://vdv314.github.io/Fcj-project-finance-personal/css/theme-workshop.css?1765299766 rel=stylesheet><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/jquery-3.3.1.min.js?1765299766></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://vdv314.github.io/Fcj-project-finance-personal/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://vdv314.github.io/Fcj-project-finance-personal/js/lunr.min.js?1765299766></script><script type=text/javascript src=https://vdv314.github.io/Fcj-project-finance-personal/js/auto-complete.js?1765299766></script><script type=text/javascript>var baseurl="https://vdv314.github.io/Fcj-project-finance-personal/"</script><script type=text/javascript src=https://vdv314.github.io/Fcj-project-finance-personal/js/search.js?1765299766></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.2-blog2/ title="Blog 2" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="Blog 3" class="dd-item
active"><a href=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.1-workshop-overview/ title=Introduction class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/5-workshop/5.1-workshop-overview/><b>5.1. </b>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.2-prerequiste/ title=Prerequiste class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/5-workshop/5.2-prerequiste/><b>5.2. </b>Prerequiste
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-api-gateway/ title="Create API Gateway" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/5-workshop/5.3-api-gateway/><b>5.3. </b>Create API Gateway
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-lambda/ title="Create Lambda Function" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/5-workshop/5.4-lambda/><b>5.4. </b>Create Lambda Function
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.5-amplify/ title="Deploy Frontend with Amplify" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/5-workshop/5.5-amplify/><b>5.5. </b>Deploy Frontend with Amplify
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=https://vdv314.github.io/Fcj-project-finance-personal/7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/3.3-blog3/ selected>English</option><option id=vi value=https://vdv314.github.io/Fcj-project-finance-personal/vi/3-blogstranslated/3.3-blog3/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://vdv314.github.io/Fcj-project-finance-personal/>Internship Report</a> > <a href=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/>Translated Blogs</a> > Blog 3</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#how-the-event-loop-works>How the Event Loop Works</a></li><li><a href=#example-iss-distance-calculation>Example: ISS Distance Calculation</a><ul><li><a href=#answer-new-york-is-the-closest-city-to-the-iss>Answer: <strong>New York</strong> is the closest city to the ISS</a></li></ul></li><li><a href=#supercharging-the-strands-event-loop-with-claude-4s-interleaved-thinking>Supercharging the Strands event loop with Claude 4&rsquo;s interleaved thinking</a></li><li><a href=#interleaved-thinking-vs-traditional-react>Interleaved Thinking vs Traditional ReAct</a></li><li><a href=#building-more-complex-agents>Building More Complex Agents</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 3</h1><h1 id=using-strands-agents-with-claude-4-interleaved-thinking>Using Strands Agents with Claude 4 Interleaved Thinking</h1><p><em>by Ryan Coleman, Jawhny Cooke, Mark Roy, and Vadim Omeltchenko on 13 JUN 2025</em></p><p>When we introduced the Strands Agents SDK, our goal was to make agentic development simple and flexible by embracing a model-driven approach. Today, we&rsquo;re excited to highlight how you can use Claude 4&rsquo;s interleaved thinking beta feature with Strands to further simplify how you write AI agents to solve complex tasks with tools. With a model-driven approach, developers no longer need to define a rigid workflow to call tools and parse model responses at each step to complete a task. With Strands Agents, you equip a model with tools and a prompt, letting it plan, chain thoughts, call tools, and reflect. Strands manages an event loop around model calls until it considers the task completed, returning a response to the client. Let&rsquo;s consider how it works with this simple example (assuming you have completed the quickstart):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> strands <span style=color:#f92672>import</span> Agent
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> strands_tools <span style=color:#f92672>import</span> http_request, python_repl
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>agent <span style=color:#f92672>=</span> Agent(
</span></span><span style=display:flex><span>    model<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;us.anthropic.claude-sonnet-4-20250514-v1:0&#34;</span>,
</span></span><span style=display:flex><span>    tools<span style=color:#f92672>=</span>[http_request, python_repl]
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>prompt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Which of the following cities is closest to the ISS?
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Portland, Vancouver, Seattle, or New York?
</span></span></span><span style=display:flex><span><span style=color:#e6db74> 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Include the current altitude of the ISS, and the distance and vector from the closest city to the ISS.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>agent(prompt)
</span></span></code></pre></div><p>Strands has everything it needs to provide an answer, equipped with Claude 4 Sonnet, its prompt, and tools to generate Python code and make HTTP requests. Here&rsquo;s how the event loop works.</p><p>First, Strands structures your prompt and any previous conversation history into a format the language model (like Claude) can understand. Then, Strands automatically loads available tools—these can be MCP Server tools or custom Python functions decorated with @tool. Your Python docstrings become tool descriptions, and type hints define the parameter schemas. In this example, we use two built-in tools from the strands-agents-tools package. The SDK manages errors (like rate limiting or context overflows), performs retries when needed, and emits detailed traces and metrics for observability.</p><p>With this setup complete, Strands manages an event loop that invokes the model, handles tool calling, and manages the conversation until the model provides a final answer.</p><hr><h2 id=how-the-event-loop-works>How the Event Loop Works</h2><p><strong>Model invocation and reasoning</strong>: The event loop calls the language model with the current conversation state, prompt, and tools. The model streams its responses, including step-by-step reasoning that you can observe as it &ldquo;thinks out loud.&rdquo;</p><p><strong>Tool use detection and execution</strong>: If the model decides it needs to call a tool (to fetch data, perform a calculation, etc.), the event loop detects this request, validates it, and executes the corresponding Python function or MCP Server tool with the parameters provided by the model.</p><p><strong>Context update</strong>: The result of the tool execution is appended to the ongoing conversation, allowing the model to incorporate the new information into its next iteration.</p><hr><h2 id=example-iss-distance-calculation>Example: ISS Distance Calculation</h2><p>You will see this loop in action when running the ISS example with Python. The model makes a plan to use its tools, including API calls for real-time data about the ISS and using its Python REPL (Read evaluate print loop) to calculate distances and vectors. The agent will respond with an answer to the question, including a statement like &ldquo;The ISS is currently positioned over the western Pacific Ocean, making the western North American cities (Vancouver, Seattle, Portland) much closer than New York. Vancouver&rsquo;s slightly more northern latitude gives it the advantage over Seattle and Portland.&rdquo;</p><p>The model makes a plan to use its tools, involving API calls for real-time data about the ISS and using its Python REPL to calculate distances and vectors. It then generates an answer and shows its work. The following is example output from this agent running locally.</p><pre tabindex=0><code>To answer this question, I need to:
1. Get the current position of the ISS (International Space Station)
2. Get the coordinates of the four cities: Portland, Vancouver, Seattle, and New York
3. Calculate the distance from each city to the ISS
4. Determine which is closest and provide the requested information

First, I need to find an API that provides the current ISS position. There are several free APIs available for this, such as:
- http://api.open-notify.org/iss-now.json (provides current ISS position)
- Others that might provide more detailed information

Let me start by getting the current ISS position.
</code></pre><pre tabindex=0><code>I&#39;ll help you find which city is closest to the ISS by getting the current position of the International Space Station and calculating distances. Let me start by fetching the current ISS location.

Tool #1: http_request
</code></pre><pre tabindex=0><code>Great! I got the current ISS position:
- Latitude: -24.4214°
- Longitude: 14.4347°
- Timestamp: 1749832513

Now I need to get the altitude of the ISS. The basic API doesn&#39;t provide altitude, but I know the ISS orbits at approximately 400-420 km altitude. Let me try to find a more detailed API or use a known average.

Actually, let me try another API that might give more details about the ISS:
</code></pre><pre tabindex=0><code>Now let me get more detailed information about the ISS including its altitude:

Tool #2: http_request
</code></pre><pre tabindex=0><code>Perfect! Now I have more detailed ISS information:
- Name: ISS
- Latitude: -24.844251408166°
- Longitude: 14.692696204258°
- Altitude: 422.41885597014 km
- Velocity: 27570.247286017 km/h
- Timestamp: 1749832520

Now I need to calculate the distances from each city to the ISS. For this, I&#39;ll need the coordinates of each city and then calculate 3D distances considering the ISS altitude.

The cities I need coordinates for:
1. Portland (I&#39;ll assume Portland, Oregon)
2. Vancouver (I&#39;ll assume Vancouver, BC, Canada)
3. Seattle, Washington
4. New York, New York

Let me use Python to calculate these distances.
</code></pre><pre tabindex=0><code>Perfect! Now I have the current ISS data. Let me calculate the distances from each city to the ISS using Python:

Tool #3: python_repl
</code></pre><pre tabindex=0><code>Current ISS Position:
Latitude: -24.844251408166°
Longitude: 14.692696204258°
Altitude: 422.42 km

Portland:
  Coordinates: 45.5152°, -122.6784°
  3D Distance to ISS: 15588.43 km
  Surface Distance: 15582.71 km

Vancouver:
  Coordinates: 49.2827°, -123.1207°
  3D Distance to ISS: 15484.80 km
  Surface Distance: 15479.03 km

Seattle:
  Coordinates: 47.6062°, -122.3321°
  3D Distance to ISS: 15493.28 km
  Surface Distance: 15487.52 km

New York:
  Coordinates: 40.7128°, -74.006°
  3D Distance to ISS: 11680.55 km
  Surface Distance: 11672.91 km

CLOSEST CITY: New York
Distance: 11680.55 km
</code></pre><pre tabindex=0><code>Great! Now I have all the distances calculated. New York is the closest city to the ISS. Now I need to calculate the vector from New York to the ISS. A vector would include both the direction and magnitude. I should calculate:
1. The bearing (direction) from New York to the ISS
2. The elevation angle
3. The distance (which I already have)

Let me calculate these additional details.
</code></pre><pre tabindex=0><code>Now let me calculate the vector (direction and elevation) from New York to the ISS:

Tool #4: python_repl
</code></pre><pre tabindex=0><code>==================================================
FINAL RESULTS
==================================================

International Space Station Current Status:
• Altitude: 422.42 km above Earth
• Position: -24.8443°, 14.6927°
• Location: Over the South Atlantic Ocean

Distance Analysis:
• Portland, OR: 15588.43 km
• Vancouver, BC: 15484.80 km
• Seattle, WA: 15493.28 km
• New York, NY: 11680.55 km

CLOSEST CITY: NEW YORK
• Distance: 11680.55 km
• Bearing: 110.1° (ESE)
• Elevation angle: 2.1° above horizon

Vector from New York to ISS:
• Direction: 110.1° bearing (ESE)
• Elevation: 2.1° above horizontal
• Distance: 11680.55 km
</code></pre><pre tabindex=0><code>Perfect! I now have all the information requested. Let me summarize the key findings:

1. **Current ISS altitude**: 422.42 km above Earth
2. **Closest city**: New York is closest to the ISS
3. **Distance and vector**:
   - Distance: 11,680.55 km
   - Direction: 110.1° bearing (East-Southeast)
   - Elevation: 2.1° above horizon

The ISS is currently positioned over the South Atlantic Ocean at coordinates -24.8443°, 14.6927°. Among the four cities, New York is significantly closer than the other three cities (which are all on the US/Canadian west coast and much farther from the ISS&#39;s current position).
</code></pre><h3 id=answer-new-york-is-the-closest-city-to-the-iss>Answer: <strong>New York</strong> is the closest city to the ISS</h3><h4 id=current-iss-status>Current ISS Status:</h4><ul><li><strong>Altitude:</strong> 422.42 km above Earth</li><li><strong>Position:</strong> 24.84°S, 14.69°E (over the South Atlantic Ocean)</li></ul><h4 id=distance-comparison>Distance Comparison:</h4><ul><li><strong>New York, NY:</strong> 11,680.55 km ✅ <strong>CLOSEST</strong></li><li><strong>Vancouver, BC:</strong> 15,484.80 km</li><li><strong>Seattle, WA:</strong> 15,493.28 km</li><li><strong>Portland, OR:</strong> 15,588.43 km</li></ul><h4 id=vector-from-new-york-to-iss>Vector from New York to ISS:</h4><ul><li><strong>Distance:</strong> 11,680.55 km</li><li><strong>Direction:</strong> 110.1° bearing (East-Southeast)</li><li><strong>Elevation:</strong> 2.1° above the horizon</li></ul><p>The ISS is currently positioned over the South Atlantic Ocean, making New York significantly closer than the three Pacific Northwest cities. New York is about 4,800 km closer to the ISS than the nearest west coast city (Vancouver).</p><hr><h2 id=supercharging-the-strands-event-loop-with-claude-4s-interleaved-thinking>Supercharging the Strands event loop with Claude 4&rsquo;s interleaved thinking</h2><p>Claude 4 introduces a beta feature called &ldquo;interleaved thinking&rdquo; which fits perfectly with Strands&rsquo; model-driven approach. This enables Claude to reflect after a tool call and adjust its plan dynamically without needing to complete the current event loop iteration. Interleaved thinking expands on the model&rsquo;s ability to self-reflect, correct errors, and orchestrate a workflow of reasoning and tool use.</p><p>If you&rsquo;re using Amazon Bedrock as your Strands model provider, you can turn on interleaved thinking by specifying the additional request fields parameter to Bedrock:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> strands <span style=color:#f92672>import</span> Agent
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> strands_tools <span style=color:#f92672>import</span> http_request, python_repl
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> strands.models <span style=color:#f92672>import</span> BedrockModel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>model <span style=color:#f92672>=</span> BedrockModel(
</span></span><span style=display:flex><span>    model_id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;us.anthropic.claude-sonnet-4-20250514-v1:0&#34;</span>,
</span></span><span style=display:flex><span>    additional_request_fields<span style=color:#f92672>=</span>{
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;anthropic_beta&#34;</span>: [<span style=color:#e6db74>&#34;interleaved-thinking-2025-05-14&#34;</span>],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;thinking&#34;</span>: {<span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;enabled&#34;</span>, <span style=color:#e6db74>&#34;budget_tokens&#34;</span>: <span style=color:#ae81ff>8000</span>},
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>agent <span style=color:#f92672>=</span> Agent(
</span></span><span style=display:flex><span>    model<span style=color:#f92672>=</span>model,
</span></span><span style=display:flex><span>    tools<span style=color:#f92672>=</span>[http_request, python_repl]
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p>If you enable tracing with Strands, you&rsquo;ll see additional blocks of &ldquo;reasoningContent&rdquo; in your trace, like in the following image, including reasoning when Claude 4 decides to interleave thinking after tool calls.</p><p><img alt=img-blog3 src=https://vdv314.github.io/Fcj-project-finance-personal/images/3-Blog/img-blog3.png></p><p>For example, in this response there is an erroneous calculation from a tool call, which Claude could identify and fix immediately, before continuing to the next iteration of the event loop.</p><pre tabindex=0><code>City Rankings (closest to farthest):
1	Vancouver: 12027.19 km
2	Seattle: 12144.49 km
3	Portland: 12195.86 km
4	New York: 15432.29 km

The calculation for longitude difference looks wrong - it&#39;s showing 243.6443° which is more than 180°. This happens because we&#39;re dealing with the international date line. Let me correct this calculation to show the actual shortest path.
</code></pre><pre tabindex=0><code>Let me correct the longitude calculation to show the actual shortest path:

Tool #6: python_repl
</code></pre><pre tabindex=0><code>CORRECTED VECTOR CALCULATION:
═══════════════════════════════════════════════════════════════

ISS Current Altitude: 418.15 km above Earth&#39;s surface

Closest City: Vancouver, BC
Distance to ISS: 12027.19 km

Vector from Vancouver to ISS:
- **Distance:** 12027.19 km
- **Direction:** 110.1° bearing (East-Southeast)
- **Elevation:** 2.1° above the horizon
</code></pre><hr><h2 id=interleaved-thinking-vs-traditional-react>Interleaved Thinking vs Traditional ReAct</h2><p>Compared to the traditional ReAct method, the interleaved thinking approach is faster and more fluid. You can think of ReAct like a detective taking notes and making deductions step by step, whereas interleaved thinking is more like a domain expert mentally juggling facts while explaining a concept. In other words, thought and action happen in one thinking block, not another complete loop.</p><p>Here&rsquo;s another example where Claude was able to reduce the number of tool calls by noticing it could calculate the answer from the information retrieved in its first API call, which otherwise would have only been determined in a second iteration of the event loop.</p><pre tabindex=0><code>Let me start by getting the ISS position. I&#39;ll help you find which city is closest to the ISS by getting the current ISS position and calculating distances. Let me start by fetching the current ISS location.

Tool #1: http_request
</code></pre><pre tabindex=0><code>Great! I got the ISS position. Now I need to get the altitude of the ISS. The Open Notify API doesn&#39;t provide altitude in the basic position endpoint, but I know the ISS typically orbits at around 400-420 km altitude. Let me check if there&#39;s another endpoint that provides more detailed information.

Actually, let me use Python to calculate the distances between the ISS and each city. I&#39;ll need to:
- Define the coordinates of each city
- Calculate the distance from each city to the ISS position
- Account for the ISS altitude in the calculation

The ISS position shows:
• Latitude: 44.7381°
• Longitude: 169.1833°

This puts the ISS somewhere over the Pacific Ocean, likely between Russia and Alaska.
</code></pre><hr><h2 id=building-more-complex-agents>Building More Complex Agents</h2><p>These examples only scratch the surface of what you can build with Strands and Claude 4 using interleaved thinking. We&rsquo;ve published additional agent samples tackling more complex problems and equipped with numerous tools, like this one demonstrating interleaved thinking. Using these examples, you&rsquo;ll see more dynamic reasoning from Claude, like learning from a failed tool call and retrying with refined parameters, or coming up with new strategies on the fly instead of looping the same strategy across multiple tool calls.</p><hr><h2 id=conclusion>Conclusion</h2><p>We built Strands Agents to simplify agent development by embracing models like Claude 4 that do a great job of breaking down problems into tool workflows that achieve results. We can&rsquo;t wait to see what you build with Strands. Join the discussion at <a href=https://github.com/strands-agents/sdk-python>https://github.com/strands-agents/sdk-python</a></p><p><em>Jawhny Cooke, Vadim Omeltchenko, and Mark Roy contributed to this post.</em></p><hr><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://vdv314.github.io/Fcj-project-finance-personal/3-blogstranslated/3.2-blog2/ title="Blog 2"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://vdv314.github.io/Fcj-project-finance-personal/4-eventparticipated/ title="Events Participated" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/clipboard.min.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/perfect-scrollbar.min.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/perfect-scrollbar.jquery.min.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/jquery.sticky.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/featherlight.min.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/highlight.pack.js?1765299766></script><script>hljs.initHighlightingOnLoad()</script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/modernizr.custom-3.6.0.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/learn.js?1765299766></script><script src=https://vdv314.github.io/Fcj-project-finance-personal/js/hugo-learn.js?1765299766></script><link href=https://vdv314.github.io/Fcj-project-finance-personal/mermaid/mermaid.css?1765299766 rel=stylesheet><script src=https://vdv314.github.io/Fcj-project-finance-personal/mermaid/mermaid.js?1765299766></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>